#### 1. 垂直切分

---

根据业务来拆分数据库，同一业务的数据表拆分到一个独立的数据库。（比如会员数据库、营销数据库）

>垂直切分可以==降低单节点数据库的负载==。



#### 2. 水平切分

---

水平拆分是==按照某个字段的某种规则，把数据切分到多张数据表==。起到==缩表==的作用。

>不同数据表的切分规则并不一致，要根据实际业务来确定。所以我们在选择数据库中间件产品的时候，就要选择切分规则丰富的产品。常见的数据库中间件有：MyCat、Atlas、ProxySQL等等。

水平切分的另一个缺点就是扩容比较麻烦，日积月累，分片迟早有不够用的时候。这时候不是首先选择增加新的集群分片。因为一个MySQL分片，需要4~8个MySQL节点（最小规模），增加一个分片的投入成本是很高的。所以正确的做法是做冷热数据分离，定期对分片中的数据归档。把过期的业务数据，从分片中转移到归档库。目前来说数据压缩比最高的MySQL引擎是TokuDB，而且带着事物的写入速度是InnoDB引擎的6-14倍。用TokuDB作为归档数据库最适合不过。

<img src="https://tva1.sinaimg.cn/large/008i3skNgy1gqgpyb9171j30u00d974k.jpg" style="zoom:60%">

