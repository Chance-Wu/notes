#### 1. Dubbo是什么

---

基于Java的高性能`RPC分布式服务框架`。提供高性能和透明化的RPC远程服务调用方案，以及SOA服务治理方案。

简单来说就是个服务框架，只有在分布式的时候，才有dubbo这样的分布式服务框架的需求，说白了就是远程调用的分布式框架。

> **核心**
>
> 1. ==远程通讯==：提供对于多种基于长连接的NIO框架抽象封装，包括多种线程模型，序列化，以及“请求-响应”模式的信息交换方式。
> 2. 集群容错：提供基于接口方法的透明远程过程调用，包括多种协议支持，以及软负载均衡，失败容错，地址路由，动态配置等集群支持。
> 3. ==自动发现==：基于注册中心目录服务，使服务消费方能动态的查找服务提供方，使地址透明，使服务提供方可以平滑增加或减少机器。



#### 2. Dubbo能做什么

---

1. ==透明化的远程方法调用==，就像调用本地方法一样调用远程方法，只需简单配置，没有任何API侵入。
2. 软负载均衡及容错机制，可在内网替代F5等精简负载均衡器。降低成本，减少单点。
3. ==服务自动注册与发现，不再需要写死服务提供方地址，注册中心基于接口名查询服务提供者的IP地址，并且能够平滑添加或删除服务提供者==。

>Dubbo采用全Spring配置方式，透明化接入应用，对应用没有任何API侵入，只需用Spring加载Dubbo的配置即可，==Dubbo基于Spring的Schema扩展进行加载==。



#### 3. Dubbo内置的几种服务容器

---

- Spring Container
- Jetty Container
- Log4j Container



#### 4. Dubbo核心配置

---

| 配置                    | 说明           |
| ----------------------- | -------------- |
| dubbo.service           | 服务配置       |
| dubbo.reference         | 引用配置       |
| `dubbo.protocol`        | 协议配置       |
| `dubbo:application`     | 应用协议       |
| dubbo:module            | 模块配置       |
| `dubbo:registry`        | 注册中心配置   |
| dubbo:monitor           | 监控中心配置   |
| dubbo:provider          | 提供方配置     |
| dubbo:consumer          | 消费方配置     |
| dubbo:method            | 方法配置       |
| dubbo:argument          | 参数配置       |
| `dubbo:metadata-report` | 元数据中心配置 |
| `dubbo:config-center`   | 配置中心       |



#### 5. Dubbo的集群容错方案

---

| 集群容错方案       | 说明                                         |
| ------------------ | -------------------------------------------- |
| `Failover Cluster` | ==失败自动切换，自动重试其它服务器（默认）== |
| Failfast Cluster   | 快速失败，立即报错，只发起一次调用           |
| Failsafe Cluster   | 失败安全，出现异常时，直接忽略               |
| Failback Cluster   | 失败自动恢复，记录失败请求，定时重发         |
| Forking Cluster    | 并行调用多个服务器，只要一个成功即返回       |
| Broadcast Cluster  | 广播逐个调用所有提供者，任意一个报错则报错   |



#### 6. Dubbo负载均衡策略

---

| 负载均衡策略               | 说明                                         |
| -------------------------- | -------------------------------------------- |
| `Random LoadBalance`       | ==随机，按权重设置随机概率（默认）==         |
| RoundRobin LoadBalance     | 轮询，按公约后的权重设置轮询比率             |
| LeastActive LoadBalance    | 最少活跃调用数，相同活跃数的随机             |
| ConsistentHash LoadBalance | 一致性Hash，相同参数的请求总是发到同一提供者 |



#### 7. Dubbo使用的通信框架

---

默认使用Netty框架。



#### 8. Dubbo VS springcloud

---

>dubbo优势：
>
>- 单一应用架构，当网站流量很小时，只需一个应用，将所有功能都部署在一起，以减少部署节点和成本。此时，用于简化增删改查工作量的数据访问框架（ORM）是关键。
>- 垂直应用架构，当访问量逐渐增大，单一应用增加机器带来的加速度越来越小，将应用拆成互不相干的几个应用，以提升效率。此时，用于加速前端页面开发的 Web框架（MVC）是关键。
>- ==分布式服务架构，当垂直应用越来越多，应用之间交互不可避免，将核心业务抽取出来，作为独立的服务，逐渐形成稳定的服务中心，使前端应用能更快速的响应多变的市场需求。此时，用于提高业务复用及整合的分布式服务框架（RPC）是关键。==
>- 流动计算架构当服务越来越多，容量的评估，小服务资源的浪费等问题逐渐显现，此时需增加一个调度中心基于访问压力实时管理集群容量，提高集群利用率。此时，用于提高机器利用率的 资源调度和治理中心（SOA）是关键。

>SpringCloud优势：
>
>- 约定优于配置
>- 开箱即用、快速启动
>- 适用于各种环境
>- 轻量级的组件
>- 组件支持丰富，功能齐全

>1. ==dubbo是二进制的传输，占用带宽会更少==
>2. springCloud是http协议传输，带宽会比较多，同时使用http协议一般会使用JSON报文，消耗会更大
>3. dubbo的开发难度较大，原因是dubbo的jar包依赖问题很多大型工程无法解决
>4. springcloud的接口协议约定比较自由且松散，需要有强有力的行政措施来限制接口无序升级
>5. ==dubbo的注册中心可以选择zk,redis等多种==，springcloud的注册中心只能用eureka或者自研

