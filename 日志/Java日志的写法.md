#### 1. 日志级别划分

---

| **Log4j、slf4j**安全 | **使用场景**框架                                             |
| -------------------- | ------------------------------------------------------------ |
| error                | 问题已经影响到软件的正常运行，而且软件不能自行恢复到正常的运行状态，此时须要输出该级别的错误日志。 |
| warn                 | 与业务处理相关的失败，这次失败不影响下次业务的执行，一般的结果为外部的输入不能得到指望的结果。 |
| info                 | 系统运行期间的系统运行状态变化，或关键业务处理记录等用户或管理员在系统运行期间关注的一些信息。<br>系统配置、系统运行环境信息，有助于安装实施人员检查配置是否正确。 |
| debug                | 软件调试信息，开发人员使用该级别的日志发现程序运行中的一些问题，排除故障。 |
| trace                | 基本同上，但显示的信息更详尽。                               |



#### 2. 日志对性能影响

---

无论多么优秀的日志工具，在日志输出时总会对性能产生或多或少的影响，为了将影响下降到最低，有如下几个准则需要遵照：

1. 如何建立Logger实例：建立Logger实例是否static的区别
2. 判断日志级别
   1. 对于能够预见的会频繁产生的日志输出，好比for、while循环，按期执行的job等，建议先使用if对日志级别进行判断后再输出。
   2. 对于日志输出内容须要复杂的序列化，或输出的某些信息获取成本较高时，须要对日志级别进行判断。好比日志中须要输出用户名，而用户名须要在日志输出时从数据库获取，此时就须要先判断一下日志级别，看看是否有必要获取这些信息。
   3. 优先使用参数，减小字符串拼接：使用参数的方式输出日志信息，有助于在性能和代码简洁之间取得平衡。当日志级别限制输出该日志时，参数内容将不会融合到最终输出中，减小了字符串的拼接，从而提高执行效率。



#### 3. 何时输出日志

---

##### 3.1 系统启动参数、环境变量

系统启动的参数、配置、环境变量、System.Properties等信息对于软件的正常运行相当重要，这些信息的输出有助于安装配置人员经过日志快速定位问题，因此程序有必要在启动过程当中把使用到的关键参数、变量在日志中输出出来。在输出时须要注意，不是一股脑的所有输出，而是将软件运行涉及到的配置信息输出出来。好比，若是软件对jvm的内存参数比较敏感，对最低配置有要求，那么就须要在日志中将-Xms -Xmx -XX:PermSize这几个参数的值输出出来。



























