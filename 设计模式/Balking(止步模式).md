### 一、意图

---

是一种并发设计模式，当对象处于不完整或不适当的状态时，它会阻止对象执行某些代码。此模式对于管理多线程Java应用程序中的状态和并发性至关重要。



### 二、详解

---

- 避免不必要的等待：当操作无法执行时，立即返回，避免线程空转。
- 提高系统响应速度：减少不必要的资源消耗。
- 简化代码逻辑：将状态判断和操作执行分离。

>核心要素：
>
>- 状态标志：用来表示对象是否满足执行操作的条件。
>- 操作方法：检查状态标志，如果满足条件则执行操作，否则返回。



### 三、实例

---

- **状态标志:** 引入一个布尔变量来表示对象的状态是否满足执行操作的条件。
- **条件判断:** 在执行操作之前，先判断状态标志是否满足条件。
- **直接返回:** 如果条件不满足，则直接返回，不再执行后续操作。

```java
public class Document {

    private boolean isModified;

    public void change() {
        isModified = true;
    }

    public void save() {
        if (!isModified) {
            // 如果文档未修改，则不保存
            return;
        }
        // 保存文档
        System.out.println("Document saved.");
        isModified = false;
    }
}
```

