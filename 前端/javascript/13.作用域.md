### 一、作用域是什么

---

#### 1.1 编译原理

>程序中的一段源代码在执行之前会经历三个步骤，统称“编译”。

- 分词/词法分析（Tokenizing/Lexing）

- - 例如将 `var a = 2;` 拆解成最基本的词法单元 `var` 、`a` 、`=` 、`2`

- 解析/语法分析（Parsing）

- 将词法单元流（数组）转换成一个由原生逐级嵌套所组成的代表了程序语法结构的树。这个树称为“抽象语法树”（AST，这个也是现代前端框架的关键所在）

- 代码生成（将 AST 转换为可执行代码的过程被称为代码生成）

#### 1.2 理解作用域

变量的赋值操作会执行两个动作，首先编译器会在当前作用域中声明一个变量（如果之前没有声明过），然后在运行时引擎会在作用域中查找该变量，如果能够找到就对它赋值。

#### 1.3 作用域嵌套

作用域是根据名称查找变量的一套规则。

当一个块或函数嵌套在另一个块或函数中时，就发生了作用域的嵌套。因此，在当前作用域中无法找到某个变量时，引擎就会在外层嵌套的作用域中继续查找，直到找到该变量，或抵达最外层的作用域（也就是全局作用域）为止。

我们通过一个例子来理解作用域。

































































































































































