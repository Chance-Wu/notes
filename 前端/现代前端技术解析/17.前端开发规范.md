### 一、前端通用规范

---

适用范围：所有前端项目（Web、H5、小程序等）。

#### 1.1 命名规范

- 变量：
  - 使用 camelCase（小驼峰命名法）。
  - 名称应具有描述性，避免缩写（除非是广泛接受的，如 id，url）。
  - ✅：`userName`, `isLoading`, `totalItemCount`。
  - ❌：`user_name`，`isload`，`tCount`。
- 常量：
  - 使用 `UPPER_CASE` (全大写)，单词间用下划线 `_` 分隔。
  - 适用于不会被重新赋值的值。
  - ✅：`const API_BASE_URL = 'https://api.example.com';`。
  - ❌：`const apiBaseUrl = 'https://api.example.com';`。
- 函数：
  - 使用 `camelCase`。
  - 名称应清晰表达其功能，通常以动词开头。
  - ✅：`fetchUserData()`, `validateForm()`, `calculateTotal()`。
  - ❌：`getData()`, `check()`, `total()`。
- 类：
  - 使用 `PascalCase` (大驼峰命名法)。
  - ✅：`UserManager`, `ApiService`, `DataProcessor`。
  - ❌：`userManager`, `apiservice`。
- 组件：
  - 使用 `PascalCase`。
  - ✅：`UserProfile`, `HeaderNav`, `ProductCard`。
  - ❌：`userProfile`, `header-nav`。
- 文件：
  - **组件文件、类文件、模块文件：使用 PascalCase 或 kebab-case（连字符分隔）**。团队需统一选择一种。
    - **PascalCase 示例**: `UserProfile.vue`, `ApiService.js`。
    - **kebab-case 示例**: `user-profile.vue`, `api-service.js`。
  - 普通 JS/TS 模块文件：使用 kebab-case。
    - ✅: `utils.js`, `form-validation.js`。
  - 样式文件 (CSS/SCSS)：使用 kebab-case。
    - ✅: `main.scss`, `button-styles.css`。
  - 图片资源：使用 kebab-case。
    - ✅: `logo-icon.svg`, `background-image.jpg`。

- CSS 类名（Class Names）：
  - 使用 `kebab-case`。
  - 避免使用过于宽泛的名称（如 `red`, `big`），优先使用语义化名称。
  - 推荐采用 BEM (Block__Element--Modifier) 或类似方法论。
    - **BEM 示例**: `.card`, `.card__title`, `.card__button--primary`。
    - **语义化示例**: `.user-profile`, `.nav-item`, `.btn-submit`。

#### 1.2 格式化

- 缩进：使用 2 个空格，禁止使用 Tab。

- 行宽：建议单行代码不超过 120 个字符。超过时应换行。

- 分号：**必须使用分号（`;`）结束语句**。

- 引号：统一使用 **单引号** (`'`) 包裹字符串。模板字符串使用反引号 (**`**)。

  - ✅：`const name = 'John';`, `const message = `Hello, ${name}!`;`

- 空格：

  - 在关键字后加空格：`if (...)`, `for (...)`, `while (...)`, `function name() {...}`。
  - 在操作符两侧加空格：`a = b + c;`, `x > y && y < z;`。
  - 对象字面量的键值对中，冒号后加空格：`{ key: 'value' }`。
  - 函数参数列表的逗号后加空格：`function(a, b, c) { ... }`。

- 括号：

  - 控制流语句 (`if`, `for`, `while`, `switch`) 的条件部分必须使用括号包裹。

  - 单行 `if` 语句也必须使用花括号 `{}`。

    - ✅：

      ```js
      if (condition) {
        doSomething();
      }

    - ❌：

      ```js
      if (condition) doSomething(); // 即使只有一行
      ```

- 换行：

  - 在长表达式、参数列表、数组/对象字面量中合理换行，提高可读性。

  - 多行对象/数组，最后一个元素后加逗号 (Trailing Comma)。

    ```js
    const user = {
      name: 'Alice',
      age: 30,
      email: 'alice@example.com', // 注意这里的逗号
    };
    ```



### 二、语法与最佳实践

---

#### 2.1 ES6+ 与 TypeScript

- 优先使用 ES6+语法：

  - 使用 `const` 和 `let` 代替 var。

  - 使用箭头函数 `=>` (尤其在回调中)。

  - 使用结构赋值 `const { name, age } = user;`。

  - 使用模版字符串。

    ```html
    `Hello ${name}`
    ```

  - 使用 `import/export` 模块化。

- 强烈推荐使用 TypeScript：

  - 为变量、函数参数、返回值、对象属性等提供类型定义。
  - 使用接口（`interface`）或类型别名（`type`）定义复杂数据结构。
  - 合理使用泛型（`<T>`）。
  - 目标：尽可能减少 `any` 类型的使用。

#### 2.2 变量与作用域

- **最小化变量提升风险**: 始终使用 `const` (不可变) 或 `let` (可变)。
- **避免全局污染**: 尽量将变量定义在函数或模块作用域内。避免在全局作用域声明变量。

#### 2.3 函数

- 单一职责原则（SRP）：一个函数只做一件事。

- 控制函数长度：建议不超过 50 行。过长函数应拆分。

- 参数数量：尽量控制在 3 个以内。过多参数考虑使用对象参数。

  ```js
  // 好
  function createUser({ name, email, age, role }) {
    // ...
  }
  // 调用
  createUser({ name: 'John', email: 'john@example.com', age: 25, role: 'user' });
  ```

- 纯函数：尽可能编写纯函数（输入相同，输出相同，无副作用）。

#### 2.4 错误处理

- 异步操作：使用 `async/await` 或 `Promise` 的 `.catch()` 进行错误处理。
- try-catch：在可能抛出异常的同步代码块中使用。
- 日志记录：发生错位时，使用 `console.error()` 记录错误信息（生产环境应集成日志服务）。
- 用户反馈：对用户可感知的错误，提供友好的提示（Toast、Modal 等）。

#### 2.5 异步编程

- 优先使用 `async/await`：比 `Promise.then.catch()`更清晰易读。
- 并行执行：使用 `Promise.all()` 或 `Promise.allSettled()` 并行处理多个异步任务。
- 避免回调地狱：不使用多层嵌套的回调函数。



### 三、项目结构

---

- 模块化组织：按功能或页面组织文件。

- 推荐结构示例：

  ```
  src/
  ├── assets/              # 静态资源 (图片、字体、全局样式)
  │   ├── images/
  │   ├── fonts/
  │   └── styles/
  │       ├── _variables.scss
  │       ├── _mixins.scss
  │       └── main.scss
  ├── components/          # 可复用的UI组件
  │   ├── Button.vue
  │   ├── Modal.vue
  │   └── Header/
  │       ├── Header.vue
  │       └── NavItem.vue
  ├── views/               # 页面级组件 (路由组件)
  │   ├── Home.vue
  │   ├── User/
  │   │   ├── UserList.vue
  │   │   └── UserProfile.vue
  │   └── Product/
  │       └── ProductDetail.vue
  ├── services/            # API 服务
  │   ├── api-client.js    # 封装 axios/fetch
  │   ├── user-service.js
  │   └── product-service.js
  ├── utils/               # 工具函数
  │   ├── date-utils.js
  │   ├── validation.js
  │   └── storage.js
  ├── store/               # 状态管理 (如 Vuex/Pinia/Redux)
  │   ├── index.js
  │   ├── modules/
  │   │   ├── user.js
  │   │   └── cart.js
  ├── router/              # 路由配置
  │   └── index.js
  ├── types/               # TypeScript 类型定义 (可选)
  │   └── index.ts
  ├── App.vue              # 根组件
  └── main.js              # 入口文件



### 四、注释

---

- 原则：代码应尽可能自解释。注释应解释为什么，而不是是什么。

- 必要注释：

  - 复杂算法或逻辑的解释。
  - 使用了非直观的解决方案或 hack 的原因。
  - 待办事项 (`// TODO:`) 或需要注意的问题 (`// FIXME:`)。
  - 公共 API 接口、复杂函数的 JSDoc 注释。

- JSDoc示例：

  ```js
  /**
   * 计算购物车总价
   * @param {Array<Object>} items - 商品项数组
   * @param {number} items[].price - 商品单价
   * @param {number} items[].quantity - 商品数量
   * @returns {number} 总价格
   */
  function calculateCartTotal(items) {
    // ...
  }
  ```

- 避免：

  - 冗余注释（如 `i++ // 增加 i`）。
  - 过时的注释（代码修改后未更新注释）。



### 五、版本控制

---

- 分支策略：采用 `Git Flow` 或 `GitHub Flow`。明确 `main`/`master` (生产)、`develop` (开发)、`feature/xxx` (特性)、`bugfix/xxx` (修复)、`release/xxx` (发布) 分支的用途。

- 提交信息：

  - 使用 **约定式提交 (Conventional Commits)**。
  - 格式: `<type>(<scope>): <subject>`
  - 类型 (type)：`feat` (新功能), `fix` (修复), `docs` (文档), `style` (格式), `refactor` (重构), `test` (测试), `chore` (构建/工具)。

  - 范围 (scope)：可选，指明影响的模块。
  - 主题 (subject)：简短描述。
  - 示例：`feat(login): add password validation`, `fix(header): logo alignment issue`

- 提交粒度：提交应小且聚焦，一次提交解决一个问题。

- Pull Request：

  - 提交 PR 前确保代码通过本地测试和构建。
  - PR 描述应清晰说明变更内容、原因和影响。
  - 必须经过至少一名同事的 Code Review 才能合并。



### 六、工具与自动化

---

- 代码格式化: 使用 `Prettier` 统一代码格式。配置好编辑器保存时自动格式化。
- 代码检查: 使用 `ESLint` (JavaScript) / `TSLint` (TypeScript) 进行静态代码分析。集成到编辑器和 CI/CD 流程中。
- 样式检查: 使用 `Stylelint` 检查 CSS/SCSS 代码。
- Git Hooks: 使用 `Husky` + `lint-staged` 在提交代码前自动运行 Linter 和 Formatter。
- CI/CD: 集成持续集成/持续部署流程，自动运行测试、构建和代码质量检查。



### 七、其他通用原则

---

- 可访问性 (Accessibility)：关注 A11Y，使用语义化 HTML，为图片提供 `alt` 属性，确保键盘可操作性。
- 性能优化：关注加载性能（懒加载、代码分割）、渲染性能（避免不必要的重渲染）。
- 安全性：防止 XSS (跨站脚本攻击)，对用户输入进行转义或验证。
- 响应式设计：确保在不同设备上都能良好显示。