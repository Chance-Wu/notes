### 一、CSS 发展概述

---

CSS（Cascading Style Sheets，层叠样式表）自诞生以来，经历了多个阶段的发展，逐步从简单的样式定义语言演变为强大的网页布局和视觉设计工具。

#### 1.1 CSS1（1996）

- 发布：1996年12月，W3C发布CSS1推荐标准。
- 核心功能：
  - **字体样式**（颜色、大小、字体族）
  - **文本属性**（对齐、间距、缩进）
  - **背景与边框**（背景色、边框样式）
  - **盒模型**（Box Model）基础概念
  - **外边距**（margin）与内边距（padding）
- 局限：仅支持简单的静态样式，缺乏布局能力。

#### 1.2 CSS2（1998）

- 发布：1998年5月，CSS2推荐标准发布。
- 重要新增：
  - **定位（Positioning）**：`position: absolute`, `relative`, `fixed`
  - **浮动（Float）**：`float: left/right`，用于图文环绕和早期布局
  - **层叠与继承机制完善**
  - **媒体类型支持**：为不同设备（屏幕、打印）定义样式
  - **选择器增强**：子选择器、相邻兄弟选择器等
- 影响：浮动成为早期网页布局的主要手段，但也带来了复杂的“清除浮动”问题。

#### 1.3 CSS2.1（2011 最终定稿）

- 背景：由于CSS2中部分特性在浏览器中实现困难或不一致，W3C对其进行修订。
- 内容：在CSS2基础上删除不成熟或未广泛支持的功能，更贴近实际浏览器实现。
- 地位：成为现代浏览器支持的核心标准之一。

#### 1.4 CSS3（2000 年代初至今）

CSS3不再是一个单一标准，而是被拆分为多个独立的“模块”，每个模块可独立发展和更新。这使得新特性可以更快地被浏览器实现。

主要模块与特性：

| 模块                              | 关键特性                                                     |
| --------------------------------- | ------------------------------------------------------------ |
| **选择器（Selectors Level 3/4）** | 属性选择器、伪类（`:nth-child`, `:not()`）、伪元素（`::before`, `::after`） |
| **盒模型与布局**                  | `border-radius`、`box-shadow`、`outline`                     |
| **背景与边框**                    | 圆角、阴影、渐变（`linear-gradient`）、多背景图              |
| **文本效果**                      | `text-shadow`、`word-wrap`、`@font-face`（自定义字体）       |
| **2D/3D 变换**                    | `transform: rotate()`, `scale()`, `translate()`              |
| **过渡与动画**                    | `transition`（平滑过渡）、`@keyframes` + `animation`（关键帧动画） |
| **多列布局**                      | `column-count`, `column-gap`                                 |
| **弹性布局（Flexbox）**           | `display: flex`，一维布局解决方案                            |
| **网格布局（Grid）**              | `display: grid`，二维布局系统，强大灵活                      |
| **变量（Custom Properties）**     | `--main-color: #333;`，支持动态主题切换                      |
| **媒体查询（Media Queries）**     | 响应式设计基础，支持断点控制                                 |
| **容器查询（Container Queries）** | 新兴特性，允许组件根据自身容器尺寸响应                       |

#### 1.5 现代CSS发展趋势（2020s）

原生CSS能力增强

- **CSS Nesting**：支持嵌套写法（类似Sass）
- **CSS Cascade Layers**：更精细的样式层叠控制
- **CSS Scope**：实验性功能，实现样式作用域隔离
- **Subgrid**：Grid布局的子网格支持

响应式与自适应设计

- 移动优先（Mobile-First）
- 视口单位（`vw`, `vh`, `rem`）
- 容器查询（Container Queries）推动组件级响应

性能与可维护性

- 减少对JavaScript的依赖（如用`scroll-behavior: smooth`实现平滑滚动）
- 使用CSS变量管理主题
- `@supports` 查询支持特性检测

与现代前端框架融合

- CSS Modules、Scoped CSS（Vue）、Styled Components（React）解决样式冲突
- 构建工具集成（PostCSS、Tailwind CSS 等）



### 二、CSS 选择器与属性

---

#### 2.1 CSS 选择器

选择器决定了哪些 HTML 元素将应用指定的样式规则。

1. 基础选择器

   | 选择器       | 示例                                 | 说明                                |
   | ------------ | ------------------------------------ | ----------------------------------- |
   | 元素选择器   | `p { color: red; }`                  | 选中所有 `<p>` 标签                 |
   | 类选择器     | `.highlight { background: yellow; }` | 选中 `class="highlight"` 的元素     |
   | ID选择器     | `#header { width: 100%; }`           | 选中 `id="header"` 的元素（唯一性） |
   | 通配符选择器 | `* { margin: 0; padding: 0; }`       | 选中所有元素                        |

2. 组合选择器

   | 选择器         | 示例      | 说明                                   |
   | -------------- | --------- | -------------------------------------- |
   | 后代选择器     | `div p`   | 选中 `<div>` 内部的所有 `<p>` 元素     |
   | 子选择器       | `ul > li` | 选中 `<ul>` 的**直接子元素** `<li>`    |
   | 相邻兄弟选择器 | `h1 + p`  | 选中紧跟在 `<h1>` 后的**第一个** `<p>` |
   | 通用兄弟选择器 | `h1 ~ p`  | 选中 `<h1>` 之后所有同级的 `<p>` 元素  |

3. 属性选择器

   | 选择器         | 示例                | 说明                                         |
   | -------------- | ------------------- | -------------------------------------------- |
   | 属性存在       | `[href]`            | 选中所有带有 `href` 属性的元素               |
   | 属性值等于     | `[type="text"]`     | 选中 `type="text"` 的元素                    |
   | 属性值包含     | `[class~="btn"]`    | 值是单词之一（如 `class="btn btn-primary"`） |
   | 属性值包含子串 | `[href*="example"]` | `href` 包含 "example" 字符串                 |
   | 属性值前缀     | `[href^="https"]`   | 以 "https" 开头                              |
   | 属性值后缀     | `[href$=".pdf"]`    | 以 ".pdf" 结尾                               |

4. 伪类选择器：用于定义元素的**特殊状态**。

   | 示例                           | 说明                                           |
   | ------------------------------ | ---------------------------------------------- |
   | `:hover`                       | 鼠标悬停时                                     |
   | `:focus`                       | 元素获得焦点（如输入框）                       |
   | `:active`                      | 元素被激活（如点击时）                         |
   | `:visited`                     | 已访问的链接                                   |
   | `:first-child` / `:last-child` | 第一个/最后一个子元素                          |
   | `:nth-child(n)`                | 第 n 个子元素（支持 `2n`, `odd`, `even`）      |
   | `:nth-of-type(n)`              | 同类型中的第 n 个元素                          |
   | `:not(selector)`               | 不匹配指定选择器的元素（如 `:not(.disabled)`） |
   | `:checked`                     | 被选中的单选/复选框                            |
   | `:empty`                       | 内容为空的元素                                 |

5. 伪元素选择器：用于选中元素的**特定部分**（通常用于装饰或生成内容）。

   | 示例             | 说明                                          |
   | ---------------- | --------------------------------------------- |
   | `::before`       | 在元素内容前插入内容（需配合 `content` 属性） |
   | `::after`        | 在元素内容后插入内容                          |
   | `::first-line`   | 元素的第一行文本                              |
   | `::first-letter` | 元素的第一个字母（常用于首字下沉）            |
   | `::selection`    | 用户选中的文本部分                            |

#### 2.2 常用 CSS 属性

1. 文本与字体

   | 属性              | 示例                              | 说明                         |
   | ----------------- | --------------------------------- | ---------------------------- |
   | `color`           | `color: #333;`                    | 文本颜色                     |
   | `font-size`       | `font-size: 16px;`                | 字体大小                     |
   | `font-family`     | `font-family: Arial, sans-serif;` | 字体族                       |
   | `font-weight`     | `font-weight: bold;`              | 字重（400=normal, 700=bold） |
   | **`text-align`**  | `text-align: center;`             | 文本对齐方式                 |
   | `text-decoration` | `text-decoration: underline;`     | 下划线、删除线等             |
   | **`line-height`** | `line-height: 1.5;`               | 行高                         |
   | `letter-spacing`  | `letter-spacing: 1px;`            | 字符间距                     |
   | `word-spacing`    | `word-spacing: 2px;`              | 单词间距                     |
   | `text-shadow`     | `text-shadow: 1px 1px 2px black;` | 文本阴影                     |

2. 盒模型：每个元素都是一个盒子，包含：内容（content）、内边距（padding）、边框（border）、外边距（margin）。

   | 属性               | 示例                      | 说明                                  |
   | ------------------ | ------------------------- | ------------------------------------- |
   | `width` / `height` | `width: 200px;`           | 内容区域宽高                          |
   | **`padding`**      | `padding: 10px;`          | 内边距（可分别设置 `padding-top` 等） |
   | **`border`**       | `border: 1px solid #ccc;` | 边框（宽度、样式、颜色）              |
   | **`margin`**       | `margin: 20px auto;`      | 外边距（`auto` 常用于水平居中）       |
   | **`box-sizing`**   | `box-sizing: border-box;` | 控制宽高是否包含 padding 和 border    |

3. 背景与渐变

   | 属性                               | 示例                                                | 说明                           |
   | ---------------------------------- | --------------------------------------------------- | ------------------------------ |
   | `background-color`                 | `background-color: #f0f0f0;`                        | 背景色                         |
   | `background-image`                 | `background-image: url("bg.jpg");`                  | 背景图像                       |
   | `background-repeat`                | `background-repeat: no-repeat;`                     | 背景是否重复                   |
   | `background-position`              | `background-position: center;`                      | 背景位置                       |
   | `background-size`                  | `background-size: cover;`                           | 背景尺寸（`cover`, `contain`） |
   | `background`                       | `background: red url(...) no-repeat center;`        | 简写属性                       |
   | `background: linear-gradient(...)` | `background: linear-gradient(to right, red, blue);` | 线性渐变                       |

4. 布局与定位

   | 属性                                | 示例                  | 说明                                                         |
   | ----------------------------------- | --------------------- | ------------------------------------------------------------ |
   | `display`                           | `display: flex;`      | 布局模型（`block`, `inline`, `flex`, `grid`, `none`）        |
   | `position`                          | `position: relative;` | 定位方式（`static`, `relative`, `absolute`, `fixed`, `sticky`） |
   | `top` / `right` / `bottom` / `left` | `top: 10px;`          | 配合 `position` 使用                                         |
   | `float`                             | `float: left;`        | 浮动（已逐渐被 Flex/Grid 取代）                              |
   | `clear`                             | `clear: both;`        | 清除浮动影响                                                 |
   | `z-index`                           | `z-index: 10;`        | 层叠顺序（仅对定位元素有效）                                 |

5. 其他常用属性

   | 属性            | 示例                                       | 说明                                       |
   | --------------- | ------------------------------------------ | ------------------------------------------ |
   | `opacity`       | `opacity: 0.8;`                            | 透明度（0~1）                              |
   | `visibility`    | `visibility: hidden;`                      | 隐藏元素（仍占空间）                       |
   | `cursor`        | `cursor: pointer;`                         | 鼠标指针样式                               |
   | `overflow`      | `overflow: hidden;`                        | 内容溢出处理（`hidden`, `scroll`, `auto`） |
   | `border-radius` | `border-radius: 8px;`                      | 圆角边框                                   |
   | `box-shadow`    | `box-shadow: 2px 2px 5px rgba(0,0,0,0.3);` | 盒阴影                                     |



### 三、选择器优先级

---

当多个规则作用于同一元素时，浏览器根据优先级决定应用哪个样式：

1. **内联样式**（`style=""`）→ 最高优先级
2. **ID选择器**（`#id`）
3. **类选择器、属性选择器、伪类**（`.class`, `[type]`, `:hover`）
4. **元素选择器、伪元素**（`p`, `::before`）
5. **通配符 `\*`、继承、全局规则** → 最低

> ✅ 使用 `!important` 可强制提升优先级（慎用，破坏可维护性）



### 四、应用示例

---

#### 4.1 组合使用选择器

```css
.nav ul > li:hover a {
  color: blue;
}
```

#### 4.2 利用伪元素创建装饰效果

```js
.button::after {
  content: " →";
  transition: 0.3s;
}
.button:hover::after {
  margin-left: 5px;
}
```

#### 4.3 使用属性选择器增强语义

```js
a[href^="https"]::after {
  content: " 🔒";
}
```