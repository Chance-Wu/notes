和其它数据库相比，MySQL的架构可以在多种不同场景中应用并发挥良好作用。主要体现在存储引擎的架构上，==插件式的存储引擎架构将查询处理和其它的系统任务以及数据的存储提取相分离==。

>MySQL服务器逻辑架构图
>
><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gnry5700r3j307p07ddfx.jpg" style="zoom:100%">
>



#### 1. 客户端层

---

负责连接处理、授权认证、安全服务等功能的处理。



#### 2. 核心服务层

---

==查询解析==、==分析==、==优化==、==缓存==以及所有的==内置函数==（如日期、时间、数学和加密函数）。所有跨存储引擎的功能都在这一层实现：存储过程、触发器、视图等。

|               |                                                              |
| ------------- | ------------------------------------------------------------ |
| Management    | 系统管理和控制工具                                           |
| SQL Interface | SQL接口。接受用户的SQL命令，并且返回用户需要查询的结果。比如select from就是调用SQL Interface解析器。SQL命令传递到解析器的时候会被解析器验证和解析。 |
| Parser        | 解析器。SQL命令传递到解析器的时候会被解析器验证和解析。      |
| Optimizer     | 查询优化器。SQL语句在查询之前会使用查询优化器对查询进行优化，比如有where条件时，优化器来决定先投影还是先过滤。 |
| Cache和Buffer | 查询缓存。如果查询缓存有命中的查询结果，查询语句就可以直接去查询缓存中取数据。这个缓存机制是由一系列小缓存组成的。比如表缓存，记录缓存，key缓存，权限缓存等。 |



#### 3. 引擎层

---

存储引擎负责MySQL中数据的存储和提取，服务器通过API与存储引擎进行通信。不同的存储引擎具有的功能不同，这样我们可以根据自己的实际需要进行选取。

```mysql
mysql> SHOW VARIABLES LIKE '%storage_engine%';
+----------------------------------+--------+
| Variable_name                    | Value  |
+----------------------------------+--------+
| default_storage_engine           | InnoDB |
| default_tmp_storage_engine       | InnoDB |
| disabled_storage_engines         |        |
| internal_tmp_disk_storage_engine | InnoDB |
+----------------------------------+--------+
```



#### 4. 存储层

---

主要讲数据存储在运行于裸设备的文件系统之上，并完成与存储引擎的交互。

