>提高数据库性能的有效办法之一就是==建立缓存表和汇总表==。
>
>==`汇总表`的好处是统计变得简单，对需要频繁统计的表插入性能进行了大大的提高==。当一个业务频繁的电商网站需要统计近24小时的订单总数时，建立定时任务，每小时统计订单数量插入到汇总表里，然后累加24小时的记录总和，这样对数据库的开销变得非常小，查询也变得简单。不好的之处是，统计得来的数据有一定延时性，如果非要实时统计订单数量，我们累加前23小时的数据总和，在累加最近一段时间订单表的总和，这样也比实时统计总订单表总24小时的数量要好的多。因为实时计算统计是非常昂贵的操作，需要扫描表中的大部分数据非常耗时，而进行此操作时对update操作是有影响的，通常进行统计时都是表级锁。
>
>==`缓存表`则相反，对查询和检索的性能带来了大大的提升。==假如一张表需要非常复杂的索引来进行检索，但是通常插入数据的时候会重建该表的索引，当我们数据非常庞大的时候发现，查询的时候非常慢，似乎索引没有生效，这一定是数据库对该表进行了插入操作。解决该问题的办法，就是建立一张缓存表来存储该数据表，在缓存表的上面建立复杂的索引，更新表上不建立索引。值得注意的是，我们的缓存表完全可以是业务表的一部分列，供检索使用就可以了。缺点也是有的，因为缓存数据不是最新业务数据，最新的业务数据可能查询不出来，

>使用缓存表和混总表时，必须决定时定期重建还是定期维护，哪个更好取决于业务。当时定期重建会节省资源，同时保持表不会有很多碎片，以及有完全顺序组织的索引（高效）。
>
>重建时，需要保证数据在操作时依然可用，需要把重建的数据保存到cache_new表里面，然后建完之后把cache表变为cache_old,cache_new变为cache表。
>
>物化视图时对该上述理念的一种实现，orcel和sqlserver提供，各种提供各种方式进行刷新，遗憾的是mysql不支持。
>
>注：物化视图和视图的区别是，视图时虚拟表，物化视图是存储数据的。

#### 1. 物化视图



#### 2. 计数器表

