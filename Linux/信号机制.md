Linux 中的信号机制是一种**进程间通信**机制，用于**向进程发送异步通知**。当某个进程收到信号时，它可以选择忽略信号、执行默认操作或者注册信号处理器来处理信号。

### 一、信号机制主要组成部分和工作原理

---

#### 1.1 信号类型

Linux 中的每个信号都有一个唯一的编号，范围是 1 到 64。信号编号为 1 到 31 的信号是标准信号，编号为 32 到 64 的信号是实时信号。

#### 1.2 信号发送

进程可以使用系统调用`kill(pid, sig)` 或 `raise(sig)` 函数来向指定进程发送信号。通常，`kill` 命令用于从命令行发送信号。

#### 1.3 信号处理

进程可以通过注册信号处理函数来处理特定信号。通常使用 `signal` 或 `sigaction` 等函数进行信号处理器的注册。

信号处理函数是由操作系统在接收到信号时调用的函数。信号处理函数通常用于执行一些特定的操作，比如清理资源、保存状态等。

#### 1.4 信号处理方式

进程可以选择对不同的信号采取不同的处理方式，包括执行**默认操作**、**忽略信号**或者**注册自定义的信号处理函数**。

#### 1.5 信号传递

如果进程收到一个信号并且没有处理它，那么该信号可以被传递给其父进程或者其他相关进程，具体取决于信号的类型和进程的配置。

#### 1.6 信号阻塞

进程可以选择阻塞某些信号，以避免在处理某些关键任务时被中断。可以使用 `sigprocmask` 函数来管理信号的阻塞状态。

#### 1.7 信号队列

如果一个进程收到了多个相同类型的信号，在处理完一个信号后，其他信号会排队等待处理。某些信号可以合并成一个，这取决于信号的处理方式以及系统的配置。