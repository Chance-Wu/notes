> BitMask在计算机学中指的是<u>*一串二进制数字*</u>，==通过与目标数字的按位操作，达到屏蔽指定位的目的==。
>
> BitMask采用数值记录状态，每一个bit有两种取值，即0和1，数值的每一位表示一个状态。使用BitMask可以用很少的资源表达非常丰富的状态。在 Java 中，一個 byte 型的数组，有 8 位(bit)，可以表达 8 个不同的状态，而且这些状态并不会相互影响。对于int，则32位，即可以表达32种状态。使用掩码，可以在单个按位操作中将字节，半字节，字等中的多个位设置为打开，关闭或从打开反转为关闭(反之亦然)。



#### 1. BitMask 基本操作

---

> **状态设定**
>
> 其他位不管，第二位变为1。
>
> `xxxx xxxx | 0000 0010 = xxxx xx1x`
>
> status |= mask

> **状态清除**
>
> 其他位不管，把第二位变为0。
>
> `xxxx xxxx | 1111 1101 = xxxx xx0x`
>
> status &= ~mask
>
> 实际上是对于status和mask的反码进行的`&`运算。

>**查询状态**
>
>通过查询确定第二位是0还是1，和mask进行`&`运算。
>
>`xxxx xxxx & 0000 0010 = 0000 00x0`
>
>如果为1，返回一个大于0的值，否则返回0。



### 2. 问题引用

---

老鼠试毒：有1000瓶水，其中有一瓶有毒，小白鼠只要尝一点带毒的水24小时后就会死亡，问至少要多少只小白鼠才能在24小时内鉴别出哪瓶水有毒？

>先将问题简化：假设只有8瓶水，其中一瓶有毒。
>
>```
>0001	1号水
>0010	2号水
>0011	3号水
>0100	4号水
>0101	5号水
>0110	6号水
>0111	7号水
>1000	8号水
>
>将该矩阵转置：
>
>```
>0 0 0 0 0 0 0 1
>0 0 0 1 1 1 1 0
>0 1 1 0 0 1 1 0
>1 0 1 0 1 0 1 0
>
>1 2 3 4 5 6 7 8
>```
>
>取四只容器，转置后的矩阵数列配组合溶液：
>
>取位数上为1的水，放入相应的容器，即：
>
>第一杯：只包含8号水
>
>第二杯：包含4、5、6、7号水
>
>第三杯：包含2、3、6、7号水
>
>第四杯：包含1、3、5、7号水
>
>取4只老鼠，编号1、2、3、4，分别喝下第一杯...第四杯水，
> 4只老鼠的生死状态依次记为 w x y z，（w,x,y,z = {0,1}）
> 死亡记作1，非死亡记作0
> 将二进制数列wxyz转为十进制，则得到有毒水的号码。
> 假设6号水有毒，那么往回推算，不难看出，第2、3只老鼠会死亡，
> 得到的wxyz的数列就是0110，转十进制后就是6。

