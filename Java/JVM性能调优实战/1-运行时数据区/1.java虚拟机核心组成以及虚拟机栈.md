<img src="https://tva1.sinaimg.cn/large/0081Kckwgy1gkamiv18c6j30f80c8aai.jpg" style="zomm:60%">

> 每个JVM都有两种机制，一个是装载具有合适名称的类(类或是接口)，叫做==类装载子系统==；另外的一个负责执行包含在已装载的类或接口中的指令，叫做==执行引擎==。
>
> 每个JVM又包括：
>
> - 方法区
> - 堆
> - Java栈
> - 程序计数器
> - 本地方法栈

#### 线程

>这里所说的线程指程序执行过程中的一个线程实体。JVM 允许一个应用并发执行多个线程。==Hotspot JVM 中的 Java 线程与原生操作系统线程有直接的映射关系==。
>
>- 当线程本地存储、缓冲区分配、同步对象、栈、程序计数器等准备好以后，就会创建一个操作系统原生线程。
>- Java 线程结束，原生线程随之被回收。
>- 操作系统负责调度所有线程，并把它们分配到任何可用的 CPU 上。
>- 当原生线程初始化完毕，就会调用 Java 线程的 run() 方法。
>- 当线程结束时，会释放原生线程和 Java 线程的所有资源。
>
>Hotspot JVM 后台运行的系统线程主要有下面几个：
>
>| 后台运行的系统线程      | 作用                                                         |
>| ----------------------- | ------------------------------------------------------------ |
>| 虚拟机线程（VM thread） | 这个线程等待 JVM 到达安全点操作出现。<br />这些操作必须要在独立的线程里执行，当堆修改无法进行时，线程都需要 JVM 位于安全点。<br />==stop-the world 垃圾回收==<br />==线程栈 dump==<br />==线程暂停==<br />==线程偏向锁（biased locking）解除== |
>| 周期性任务线程          | 负责定时器事件（也就是中断），用来调度周期性操作的执行。     |
>| GC 线程                 | 支持JVM中不同的垃圾回收活动。                                |
>| 编译器线程              | 在运行时将字节码动态编译成本地平台相关的机器码。             |
>| 信号分发线程            | 接收发送到JVM的信号并调用适当的JVM方法处理。                 |

#### 虚拟机栈/线程栈（线程私有）

> Java虚拟机栈用来存放栈帧，而栈帧主要包括了：
>
> - ==局部变量表==
> - 操作数栈
> - 动态链接
>
> Java虚拟机栈允许被实现为固定大小或者可动态扩展的内存大小。