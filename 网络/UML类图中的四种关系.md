Unified Modeling Language统一建模语言。

UML类图中的关系分为四种：泛化、依赖、关联（细分为聚合、组合）、实现



#### 1. 泛化

---

泛化是父类和子类之间的关系，==子类继承父类的所有结构和行为==。在子类中可以增加新的结构和行为，也可覆写父类的行为。

泛化对应Java中继承关系，即==子类继承父类中除private修饰外的所有东西==（变量、方法等）。

一般用一个带空心箭头的实线表示泛化关系。



#### 2. 依赖

---

依赖关系是一种==使用关系==，特定事物的改变有可能会影响到使用该事物的事物，反之不成立。

通常情况下，依赖关系体现在==某个类的方法使用另一个类作为参数==。

```java
public class Screwdriver { //螺丝刀，作为人类的工具，是用来被人类使用的
}

public class Person{
  public void screw(Screwdriver src){ //拧螺丝，需使用螺丝刀
  }
}
```

一般用一条指向被依赖事物的虚线表示。



#### 3. 关联

---

关联是一种结构关系，说明一个事物的对象与另一个事物的对象相联系。给定有关联的两个类，可以从一个类的对象得到另一个类的对象。关联有两元关系和多元关系。两元关系是指一种一对一的关系，多元关系是一对多或多对一的关系。两个类之间的简单关联表示了两个同等地位类之间的结构关系。当你想要表示结构化关系时使用关联。（可以想想Hibernate的关联关系）

通常情况下，关联关系是通过类的成员变量来实现的。

```java
public class Company { //公司
  private Employee emp; //一个公司雇员，公司与雇员之间就是一种关联关系。
}

public class Employee{
}
```

关联关系还可以细分为==聚合==和==组合==两种。

一般用实线连接有关联的同一个类或不同的两个类。

##### 3.1 聚合

聚合是一种特殊的关联。它描述了“has a”关系，表示==整体对象拥有部分对象==。

关联关系和聚合关系在语法上是没办法区分的，从语义上才能更好的区分两者的区别。==聚合是较强的关联关系，强调的是整体与部分之间的关系==。例如，学校和学生的关系。聚合的整体和部分之间在生命周期上没有什么必然的联系，部分对象可以在整体对象创建之前创建，也可以在整体对象销毁之后销毁。

一般用带一个空心菱形（整体的一端——学校）的实线表示。

##### 3.2 组合

==组合是聚合的一种形式，它具有更强的拥有关系，强调整体与部分的生命周期是一致的，整体负责部分的生命周期的管理==。生命周期一致指的是部分必须在组合创建的同时或者之后创建，在组合销毁之前或者同时销毁，部分的生命周期不会超出组合的生命周期。例如Windows的窗口和窗口上的菜单就是组合关系。如果整体被销毁，部分也必须跟着一起被销毁，如果所有者被复制，部分也必须一起被复制。

一般用带实心菱形（整体的一端）的实线来表示。

##### 3.3 聚合和组合的区别

- 聚合关系是“has-a”关系，组合关系是“contains-a”关系；
- 聚合关系表示整体与部分的关系比较弱，而组合比较强；
- 聚合关系中代表部分事物的对象与代表聚合事物的对象的生存期无关，一旦删除了聚合对象不一定就删除了代表部分事物的对象。组合中一旦删除了组合对象，同时也就删除了代表部分事物的对象。
- 组合中的一个对象在同一时刻只能属于一个组合对象，而聚合的一个部分对象可以被多个整体对象聚合，例如一个学生可以在多个学校就读，而一个菜单在同一时刻只能是某个窗口内的对象。



#### 4. 实现

---

实现关系指定两个实体之间的一个合约。换言之，一个实体定义一个合约，而另一个实体保证履行该合约。对类来说，就是==一个类实现了一个接口==。

一般用一条指向接口的虚线表示。



#### 5. 总结

---

类间关系有很多种，在大的类别上可以分为两种：纵向关系、横向关系。

- 纵向关系就是继承；
- 横向关系按照UML的建议大体上分为：依赖、关联、聚合、组合。

> 强弱关系：依赖 < 关联 < 聚合 < 组合 < 泛化

>实现方式区别：
>
>依赖：关系对象出现在局部变量或者方法的参数里，或者关系类的静态方法被调用
>
>关联：关系对象出现在实例变量中
>
>聚合：关系对象出现在实例变量中
>
>组合：关系对象出现在实例变量中
>
>泛化：extends
>
>实现：implements

