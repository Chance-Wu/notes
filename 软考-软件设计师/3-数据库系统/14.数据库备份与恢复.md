数据库备份按备份方式分为**热备份**和**冷备份**；按备份的量可分为：**完全备份**，**差量备份**，**增量备份**；

### 一、冷备份

---

冷备份也称静态备份，是将数据库正常关闭，在**停止状态**下，将数据库的文件**全部备份**(复制)下来。

优点：

- 非常快速的备份方法(只需要复制文件)；
- 容易归档(简单复制即可)；
- 容易恢复到某个时间点上(只需将文件再复制回去)；
- 能与归档方法结合，做数据库“最佳状态”的恢复；
- 低度维护，高度安全。

缺点：

- 单独使用时，只能提供到某一时间点上的恢复；
- 在实施备份的全过程中，数据库必须要作备份而不能做其他工作；
- 若磁盘空间有限，只能复制到磁带等其他外部存储设备上，速度会很慢；
- 不能按表或按用户恢复。



### 二、热备份

---

热备份也称动态备份，是利用备份软件，在数据库正常运行的状态下，将数据库中的数据文件备份出来。

优点：

- 可在表空间或数据库文件级备份，备份的时间短；
- 备份时数据库仍然可以使用；
- 可达到秒级恢复(恢复到某一时间节点上)；
- 可对几乎所有数据库实体做恢复；
- 恢复是快速的。

缺点：

- 不能出错，否则后果严重；
- 若热备份不成功所得结果不可用于时间点的恢复；
- 因难于维护，所以要特别小心，不允许“以失败告终”。



### 三、完全备份、差量备份、增量备份

---

完全备份：备份整个数据库的内容。

差量备份：仅备份上一次完全备份之后变化的数据(可以解决增量备份可能出现的错误)。

增量备份：备份上一次备份之后变化的数据。



### 四、四种转储方式

---

#### 4.1 静态海量转储

在系统中**无事务运行时**进行，每次转储全部数据库。

#### 4.2 静态增量转储

在系统**无运行事务时**进行，每次只转储上一次转储后更新过的数据。

#### 4.3 动态海量转储

转储期间允许对数据库进行存取或修改，每次转储全部数据库。

#### 4.4 动态增量转储

转储期间允许对数据库进行存取或修改，每次只转储上一次转储后更新的内容。



### 五、日志文件

---

事务日志是针对数据库改变所做的记录，它可以针对数据库的任何操作（如插入，更新），并将记录结果保存在独立的文件中。



### 六、数据库可能的故障与解决办法

---

| 故障关系               | 故障原因               | 解决方法                                                     |
| ---------------------- | ---------------------- | ------------------------------------------------------------ |
| 业务本身的可预期故障   | 本身逻辑               | 在程序中预先设置Rollback语句                                 |
| 事务本身的不可预期故障 | 算术溢出、违反存储保护 | 由DBMS的恢复系统通过日志，撤销事务对数据库的修改，回退到事务初始状态 |
| 系统故障               | 系统停止运行           | 通常使用检查点法                                             |
| 介质故障               | 外存被破坏             | 一般使用日志重做业务                                         |
