### 一、cache的功能

---

提高CPU输入输出的速率，突破冯诺依曼瓶颈，即CPU与存储器系统间数据传送带宽限制，在程序执行过程中，**Cache与主存的地址映射是由硬件自动完成的**。



### 二、与cache相关的计算

---

如果以h代表对cache的**访问命中率**，t1表示cache的周期时间，t2表示主存储器周期时间，以读操作为例，使用“cache+主存储器”的系统的平均周期为t3，则：t3=h*t1+(1-h)*t2；其中，(1-h)又称为失效率(未命中率)。

注：CPU会在cache中寻找它需要的数据，如果不能找到，CPU就将前往内存中寻找，而cache的访问命中率就是CPU需要的数据在cache中被找到的比例，未能找到的数据CPU将前往内存中进行再次寻找。



### 三、内存与cache地址映射的三种方式

---

3种映射方式：

1. **直接映射**（Direct Mapping）：将一个主存块存储到唯一的一个Cache行。
2. **组相联映射**（K-Way Set Associative Mapping）：将一个主存块存储到唯一的一个Cache组中任意一个行。
3. **全相连映射**（Full Associative Mapping）：将一个主存块存储到任意一个Cache行。

> 注：这三种映射方式都是计算机硬件自动完成的。



### 四、替换算法

---

替换算法的目的是**使cache获得尽可能高的命中率**，有以下四种：

- 随机替换算法
- 先进先出算法
- 近期最少使用算法
- 优化替换算法

注：现代的计算机cache系统是分为了三个级别的，访问时先从第一层开始访问，直至三个级别的cache都被访问完全时才会访问内存。



### 五、虚拟存储器

---

cpu在给出需要访问的内存地址时，给出的并不是真正的物理地址，而是物理地址的抽象，**虚拟存储器是由主存-辅存两级存储器组成**。